# ğŸ–¥ï¸ Cross-Mind Consensus æœåŠ¡å™¨è¦æ±‚æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

Cross-Mind Consensusæ˜¯ä¸€ä¸ªå…ˆè¿›çš„å¤šLLMå…±è¯†éªŒè¯ç³»ç»Ÿï¼Œæœ¬æ–‡æ¡£æä¾›è¯¦ç»†çš„æœåŠ¡å™¨ç¡¬ä»¶è¦æ±‚ã€éƒ¨ç½²é…ç½®å’Œæ€§èƒ½ä¼˜åŒ–å»ºè®®ã€‚

## âš¡ æœ€ä½é…ç½®è¦æ±‚

### **ç»å¯¹æœ€ä½é…ç½®** (å•ç”¨æˆ·/å¼€å‘ç¯å¢ƒ)
```
ğŸ’» CPU: 2 æ ¸å¿ƒ (2.0+ GHz)
ğŸ§  å†…å­˜: 4GB RAM
ğŸ’¾ å­˜å‚¨: 20GB å¯ç”¨ç©ºé—´
ğŸŒ ç½‘ç»œ: 10Mbps ç¨³å®šè¿æ¥
ğŸ§ æ“ä½œç³»ç»Ÿ: Ubuntu 20.04+, Windows 10+, macOS 11+
```

### **æ¨èç”Ÿäº§é…ç½®** (10-50å¹¶å‘ç”¨æˆ·)
```
ğŸ’» CPU: 4 æ ¸å¿ƒ (2.5+ GHz) 
ğŸ§  å†…å­˜: 8GB RAM
ğŸ’¾ å­˜å‚¨: 50GB SSD
ğŸŒ ç½‘ç»œ: 100Mbps å¸¦å®½
ğŸ§ æ“ä½œç³»ç»Ÿ: Ubuntu 22.04 LTS
```

### **é«˜æ€§èƒ½é…ç½®** (100+å¹¶å‘ç”¨æˆ·)
```
ğŸ’» CPU: 8+ æ ¸å¿ƒ (3.0+ GHz)
ğŸ§  å†…å­˜: 16GB+ RAM  
ğŸ’¾ å­˜å‚¨: 100GB+ NVMe SSD
ğŸŒ ç½‘ç»œ: 1Gbps å¸¦å®½
ğŸ§ æ“ä½œç³»ç»Ÿ: Ubuntu 22.04 LTS + Docker
```

## ğŸ“Š èµ„æºéœ€æ±‚è¯¦è§£

### **å†…å­˜éœ€æ±‚åˆ†è§£**
- **ğŸ¤– Sentence Transformeræ¨¡å‹**: ~800MB-1.2GB
- **âš¡ FastAPIåç«¯**: ~300-600MB
- **ğŸ“Š Streamlitä»ªè¡¨æ¿**: ~200-400MB  
- **ğŸ”„ Redisç¼“å­˜**: ~100MB-2GB (å¯é…ç½®)
- **ğŸ“ˆ åˆ†ææ•°æ®**: ~100-500MB
- **ğŸ”§ ç³»ç»Ÿå¼€é”€**: ~500MB-1GB
- **ğŸ“¦ æ€»è®¡**: æœ€å°‘4GBï¼Œæ¨è8GB+

### **å­˜å‚¨ç©ºé—´åˆ†è§£**
- **ğŸ“¦ åº”ç”¨ä»£ç **: ~100MB
- **ğŸ Pythonä¾èµ–**: ~2.5GB
- **ğŸ³ Dockeré•œåƒ**: ~1.5GB
- **ğŸ“ æ—¥å¿—æ–‡ä»¶**: ~1-10GB (å¯é…ç½®è½®è½¬)
- **ğŸ’¾ æ¨¡å‹ç¼“å­˜**: ~500MB-2GB
- **âš™ï¸ ç³»ç»Ÿç©ºé—´**: ~10GB
- **ğŸ“¦ æ€»è®¡**: æœ€å°‘20GBï¼Œæ¨è50GB+

### **CPUéœ€æ±‚åˆ†æ**
- **å•æ ¸æ€§èƒ½**: é‡è¦ï¼Œå½±å“å•è¯·æ±‚å“åº”æ—¶é—´
- **å¤šæ ¸å¹¶å‘**: æ”¯æŒå¤šç”¨æˆ·åŒæ—¶è®¿é—®
- **æ¨èé…ç½®**: CPUæ ¸å¿ƒæ•° Ã— 2 = Workerè¿›ç¨‹æ•°

### **ç½‘ç»œéœ€æ±‚**
- **LLM APIè°ƒç”¨**: éœ€è¦ç¨³å®šçš„äº’è”ç½‘è¿æ¥
- **ç”¨æˆ·è¯·æ±‚**: æ¯ä¸ªè¯·æ±‚ ~1-50KB
- **å®æ—¶WebSocket**: æœ€å°å»¶è¿Ÿè¦æ±‚
- **å¸¦å®½è®¡ç®—**: å¹¶å‘ç”¨æˆ·æ•° Ã— å¹³å‡è¯·æ±‚å¤§å° Ã— å®‰å…¨ç³»æ•°

## ğŸ³ éƒ¨ç½²æ–¹å¼å¯¹æ¯”

### **1. è½»é‡çº§éƒ¨ç½²** (æœ€å°èµ„æº)
```bash
# ä»…APIæœåŠ¡ï¼Œæ— ç¼“å­˜
uvicorn backend.main:app --host 0.0.0.0 --port 8000
```
**è¦æ±‚**: 2æ ¸/3GB/15GB

### **2. æ ‡å‡†éƒ¨ç½²** (æ¨è)
```bash
# API + Dashboard + Redisç¼“å­˜
docker-compose up api dashboard redis
```
**è¦æ±‚**: 4æ ¸/6GB/30GB

### **3. å®Œæ•´éƒ¨ç½²** (ç”Ÿäº§ç¯å¢ƒ)
```bash
# å…¨å¥—ç›‘æ§ + è´Ÿè½½å‡è¡¡
docker-compose up
```
**è¦æ±‚**: 8æ ¸/12GB/60GB

## ğŸŒŸ äº‘å¹³å°æ¨èé…ç½®

### **é˜¿é‡Œäº‘ ECS**
| é…ç½®ç±»å‹ | å®ä¾‹è§„æ ¼ | vCPU | å†…å­˜ | å­˜å‚¨ | æœˆè´¹ç”¨ |
|---------|---------|------|------|------|--------|
| æœ€å° | ecs.t6-c2m4.large | 2æ ¸ | 4GB | 40GB | ~Â¥180 |
| æ¨è | ecs.c6.xlarge | 4æ ¸ | 8GB | 60GB | ~Â¥450 |
| é«˜æ€§èƒ½ | ecs.c6.2xlarge | 8æ ¸ | 16GB | 120GB | ~Â¥900 |

### **è…¾è®¯äº‘ CVM**
| é…ç½®ç±»å‹ | å®ä¾‹è§„æ ¼ | vCPU | å†…å­˜ | å­˜å‚¨ | æœˆè´¹ç”¨ |
|---------|---------|------|------|------|--------|
| æœ€å° | S5.MEDIUM4 | 2æ ¸ | 4GB | 40GB | ~Â¥160 |
| æ¨è | S5.LARGE8 | 4æ ¸ | 8GB | 60GB | ~Â¥400 |
| é«˜æ€§èƒ½ | S5.2XLARGE16 | 8æ ¸ | 16GB | 120GB | ~Â¥800 |

### **AWS EC2**
| é…ç½®ç±»å‹ | å®ä¾‹ç±»å‹ | vCPU | å†…å­˜ | å­˜å‚¨ | æœˆè´¹ç”¨(USD) |
|---------|---------|------|------|------|------------|
| æœ€å° | t3.medium | 2æ ¸ | 4GB | 30GB | ~$30 |
| æ¨è | t3.large | 2æ ¸ | 8GB | 60GB | ~$60 |
| é«˜æ€§èƒ½ | c5.2xlarge | 8æ ¸ | 16GB | 120GB | ~$250 |

### **Google Cloud Platform**
| é…ç½®ç±»å‹ | æœºå™¨ç±»å‹ | vCPU | å†…å­˜ | å­˜å‚¨ | æœˆè´¹ç”¨(USD) |
|---------|---------|------|------|------|------------|
| æœ€å° | e2-medium | 2æ ¸ | 4GB | 30GB | ~$25 |
| æ¨è | e2-standard-4 | 4æ ¸ | 16GB | 60GB | ~$120 |
| é«˜æ€§èƒ½ | c2-standard-8 | 8æ ¸ | 32GB | 120GB | ~$280 |

## âš¡ æ€§èƒ½ä¼˜åŒ–é…ç½®

### **å†…å­˜ä¼˜åŒ–**
```bash
# Rediså†…å­˜é™åˆ¶é…ç½®
CONFIG SET maxmemory 1gb
CONFIG SET maxmemory-policy allkeys-lru

# Pythonå†…å­˜ä¼˜åŒ–
export PYTHONHASHSEED=0
export MALLOC_TRIM_THRESHOLD_=100000

# ç³»ç»Ÿå†…å­˜ä¼˜åŒ–
echo 'vm.swappiness=10' >> /etc/sysctl.conf
echo 'vm.vfs_cache_pressure=50' >> /etc/sysctl.conf
```

### **CPUä¼˜åŒ–é…ç½®**
```bash
# Gunicorn workeré…ç½®
workers = min(multiprocessing.cpu_count() * 2 + 1, 8)
worker_class = "uvicorn.workers.UvicornWorker"
worker_connections = 1000
max_requests = 1000
max_requests_jitter = 100
timeout = 30
keepalive = 2
```

### **ç£ç›˜I/Oä¼˜åŒ–**
```bash
# ä½¿ç”¨SSDå¹¶å¯ç”¨trim
echo 'SCHEDULER="deadline"' >> /etc/default/grub

# ä¼˜åŒ–æ–‡ä»¶ç³»ç»Ÿ
mount -o noatime,nodiratime /dev/sda1 /

# æ—¥å¿—è½®è½¬é…ç½®
/app/logs/*.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
}
```

### **ç½‘ç»œä¼˜åŒ–**
```bash
# TCPä¼˜åŒ–
echo 'net.core.somaxconn = 65535' >> /etc/sysctl.conf
echo 'net.ipv4.tcp_max_syn_backlog = 65535' >> /etc/sysctl.conf
echo 'net.core.netdev_max_backlog = 5000' >> /etc/sysctl.conf
```

## ğŸ”§ ç»„ä»¶èµ„æºé…ç½®

### **FastAPIåº”ç”¨é…ç½®**
```python
# uvicorné…ç½®
uvicorn.run(
    app,
    host="0.0.0.0",
    port=8000,
    workers=4,  # CPUæ ¸å¿ƒæ•°
    access_log=False,  # ç”Ÿäº§ç¯å¢ƒå…³é—­è®¿é—®æ—¥å¿—
    log_level="info"
)
```

### **Redisé…ç½®**
```conf
# redis.conf
maxmemory 1gb
maxmemory-policy allkeys-lru
save 900 1
save 300 10
save 60 10000
```

### **Nginxé…ç½®**
```nginx
worker_processes auto;
worker_connections 1024;

upstream api_backend {
    server api:8000;
}

server {
    listen 80;
    client_max_body_size 50M;
    
    location / {
        proxy_pass http://api_backend;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

## ğŸ“ˆ è´Ÿè½½æµ‹è¯•åŸºå‡†

### **æ€§èƒ½æŒ‡æ ‡ç›®æ ‡**
- **å“åº”æ—¶é—´**: < 2ç§’ (95%çš„è¯·æ±‚)
- **å¹¶å‘ç”¨æˆ·**: 50+ (æ¨èé…ç½®)
- **ååé‡**: 100+ è¯·æ±‚/åˆ†é’Ÿ
- **å¯ç”¨æ€§**: 99.9%+

### **è´Ÿè½½æµ‹è¯•å‘½ä»¤**
```bash
# ä½¿ç”¨Locustè¿›è¡Œè´Ÿè½½æµ‹è¯•
locust -f tests/performance/locustfile.py \
    --headless \
    -u 50 \
    -r 5 \
    -t 300s \
    --host=http://localhost:8000

# ä½¿ç”¨abè¿›è¡Œç®€å•æµ‹è¯•
ab -n 1000 -c 10 http://localhost:8000/health
```

## ğŸ“‹ éƒ¨ç½²æ£€æŸ¥æ¸…å•

### **åŸºç¡€ç¯å¢ƒæ£€æŸ¥**
- [ ] æ“ä½œç³»ç»Ÿç‰ˆæœ¬ (Ubuntu 20.04+)
- [ ] Dockerç‰ˆæœ¬ (20.10+)
- [ ] Docker Composeç‰ˆæœ¬ (2.0+)
- [ ] Pythonç‰ˆæœ¬ (3.11+)
- [ ] å¯ç”¨å­˜å‚¨ç©ºé—´ (>20GB)
- [ ] ç½‘ç»œè¿é€šæ€§æµ‹è¯•

### **å®‰å…¨é…ç½®æ£€æŸ¥**
- [ ] é˜²ç«å¢™é…ç½®
- [ ] SSLè¯ä¹¦å®‰è£…
- [ ] APIå¯†é’¥é…ç½®
- [ ] ç”¨æˆ·æƒé™è®¾ç½®
- [ ] æ—¥å¿—å®¡è®¡å¯ç”¨

### **ç›‘æ§é…ç½®æ£€æŸ¥**
- [ ] Prometheusé…ç½®
- [ ] Grafanaä»ªè¡¨æ¿
- [ ] æ—¥å¿—èšåˆ
- [ ] å‘Šè­¦è§„åˆ™è®¾ç½®
- [ ] å¥åº·æ£€æŸ¥ç«¯ç‚¹

### **å¤‡ä»½ç­–ç•¥æ£€æŸ¥**
- [ ] æ•°æ®åº“å¤‡ä»½
- [ ] é…ç½®æ–‡ä»¶å¤‡ä»½
- [ ] æ—¥å¿—å¤‡ä»½
- [ ] æ¢å¤æµ‹è¯•

## ğŸ’¡ æˆæœ¬æ•ˆç›Šåˆ†æ

### **å¼€å‘é˜¶æ®µ** (1-2å¼€å‘è€…)
- **é…ç½®**: 2æ ¸/4GB/20GB
- **æœˆæˆæœ¬**: Â¥150-200
- **é€‚ç”¨åœºæ™¯**: å¼€å‘ã€æµ‹è¯•ã€æ¼”ç¤º

### **å°è§„æ¨¡ç”Ÿäº§** (10-50ç”¨æˆ·)
- **é…ç½®**: 4æ ¸/8GB/50GB
- **æœˆæˆæœ¬**: Â¥400-500
- **é€‚ç”¨åœºæ™¯**: åˆåˆ›å…¬å¸ã€å°å›¢é˜Ÿ

### **å¤§è§„æ¨¡ç”Ÿäº§** (100+ç”¨æˆ·)
- **é…ç½®**: 8æ ¸/16GB/100GB + è´Ÿè½½å‡è¡¡
- **æœˆæˆæœ¬**: Â¥800-1200
- **é€‚ç”¨åœºæ™¯**: ä¼ä¸šçº§åº”ç”¨

### **æˆæœ¬ä¼˜åŒ–å»ºè®®**
1. **æŒ‰éœ€æ‰©å±•**: ä»å°é…ç½®å¼€å§‹ï¼Œæ ¹æ®ä½¿ç”¨é‡é€æ­¥å‡çº§
2. **é¢„ç•™å®ä¾‹**: é•¿æœŸä½¿ç”¨å¯è´­ä¹°é¢„ç•™å®ä¾‹èŠ‚çœæˆæœ¬
3. **ç›‘æ§ä¼˜åŒ–**: ä½¿ç”¨äº‘å¹³å°ç›‘æ§å·¥å…·ä¼˜åŒ–èµ„æºä½¿ç”¨
4. **ç¼“å­˜ç­–ç•¥**: åˆç†é…ç½®Rediså‡å°‘APIè°ƒç”¨æˆæœ¬

## ğŸš€ å¿«é€Ÿéƒ¨ç½²æŒ‡å—

### **æœ€å°éƒ¨ç½²** (5åˆ†é’Ÿ)
```bash
git clone https://github.com/your-repo/cross-mind-consensus.git
cd cross-mind-consensus
cp env.template .env
# ç¼–è¾‘ .env æ–‡ä»¶æ·»åŠ APIå¯†é’¥
docker-compose up api redis
```

### **ç”Ÿäº§éƒ¨ç½²** (30åˆ†é’Ÿ)
```bash
# 1. å…‹éš†ä»£ç 
git clone https://github.com/your-repo/cross-mind-consensus.git
cd cross-mind-consensus

# 2. é…ç½®ç¯å¢ƒ
cp env.template .env
# ç¼–è¾‘é…ç½®æ–‡ä»¶

# 3. å¯åŠ¨å®Œæ•´æœåŠ¡
docker-compose up -d

# 4. éªŒè¯éƒ¨ç½²
curl http://localhost:8000/health
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœæ‚¨åœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œè¯·å‚è€ƒï¼š

- **æ–‡æ¡£**: `/docs` ç›®å½•ä¸‹çš„è¯¦ç»†æ–‡æ¡£
- **æ—¥å¿—**: `docker-compose logs` æŸ¥çœ‹æœåŠ¡æ—¥å¿—
- **å¥åº·æ£€æŸ¥**: `curl http://localhost:8000/health`
- **ç›‘æ§**: è®¿é—® `http://localhost:3000` (Grafana)

---

**æœ€åæ›´æ–°**: 2024å¹´6æœˆ
**ç‰ˆæœ¬**: v2.0.0
**ç»´æŠ¤è€…**: Cross-Mind Consensus Team 